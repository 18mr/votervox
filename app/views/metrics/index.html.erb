<main class="dashboard metrics">
		<div class="wrapper">
			<section>
				<div class="wrapper">

					<h1>VoterVOX Metrics</h1>

					<div class="timeframe-selection">
						<%= form_tag metrics_path, method: 'GET' do %>
							<%= hidden_field_tag 'start_date', 1.week.ago %>
							<%= hidden_field_tag 'end_date', 1.second.ago %>
							<%= hidden_field_tag 'timeframe', 'week' %>
							<%= submit_tag 'Last Week' %>
						<% end %>

						<%= form_tag metrics_path, method: 'GET' do %>
							<%= hidden_field_tag 'start_date', 1.month.ago %>
							<%= hidden_field_tag 'end_date', 1.second.ago %>
							<%= hidden_field_tag 'timeframe', 'month' %>
							<%= submit_tag 'Last Month' %>
						<% end %>

						<%= form_tag metrics_path, method: 'GET' do %>
							<%= hidden_field_tag 'start_date', 10.years.ago %>
							<%= hidden_field_tag 'end_date', 1.second.ago %>
							<%= hidden_field_tag 'timeframe', 'all_time' %>
							<%= submit_tag 'All Time' %>
						<% end %>
						<div class="clear-fix"></div>
					</div><!--.timeframe-selection-->
					<div class="search">
						<%= form_tag metrics_path, method: 'GET' do %>
							<%= hidden_field_tag 'timeframe', 'custom' %>

							<%= field_set_tag 'Start Date:' do %>
								<%= text_field_tag 'start_date', @timeframe == 'custom' ? iso_format(@start_dt) : '', { :placeholder => 'YYYY-MM-DD', :class => 'datepicker' } %>
							<% end %>

							<%= field_set_tag 'End Date:' do %>
								<%= text_field_tag 'end_date', @timeframe == 'custom' ? iso_format(@end_dt) : '', { :placeholder => 'YYYY-MM-DD', :class => 'datepicker' } %>
							<% end %>

							<button class="search-icon"><i class="fa fa-search" aria-hidden="true"></i></button>
							<div class="clear-fix"></div>
						<% end %>
						<div class="clear-fix"></div>
					</div><!--.search-->
					<div class="clear-fix"></div>
				</div>

			</section>










		<section class="overall-metrics">
			<header>
				<h3>Overall</h3>
			</header>

			<div class="wrapper">
				<div class="metric">
					<div class="metric-box">
						<div class="number"><%= @metrics[:language_count] %></div>
						<div class="details">Total # Languages Supported</div>
						<div class="clear-fix"></div><!--.clear-fix-->
					</div><!--.metric-box-->
					<button class="btn-outline">Breakdown by Language</button>

				</div><!--.metric-->
				<div class="metric">
					<div class="metric-box">
						<div class="number"><%= @metrics[:site_visitors] %></div>
						<div class="details">Total # Site Visitors</div>
						
					</div><!--.metric-box-->
				</div><!--.metric-->

				<div class="metric">
					<div class="metric-box">
						<div class="number"><%= @metrics[:registrations] %></div>
						<div class="details">Total # of VoterVOX Registrations</div>
					</div><!--.metric-box-->
					<button class="btn-outline">Breakdown by Language</button>
				</div><!--.metric-->
				<div class="metric">
					<div class="metric-box">
						<div class="number"><%= @metrics[:views_per_language] %></div>
						<div class="details">Total # Views per Language</div>
						
					</div><!--.metric-box-->
					<button class="btn-outline">Breakdown by Language</button>
				</div><!--.metric-->
				<div class="metric">
					<div class="metric-box">
						<div class="number">12</div>
						<div class="details">Total # Languages Supported</div>
						
					</div><!--.metric-box-->
					<button class="btn-outline">Breakdown by Language</button>
				</div><!--.metric-->
			</div>

			<div class="clear-fix"></div><!--.clear-fix-->

		</section><!--.overall-metrics-->

		<section class="volunteer-metrics">
			<header>
				<h3>Volunteers</h3>
			</header>

			<div class="wrapper">
				<div class="metric">
					<div class="metric-box">
						<div class="number"><%= @metrics[:volunteer_count] %></div>
						<div class="details">Total # of Volunteers</div>
					</div><!--.metric-box-->
					<button class="btn-outline">Breakdown by Language</button>
				</div><!--.metric-->
				<div class="metric">
					<div class="metric-box">
						<div class="number"><%= @metrics[:active_volunteer_count] %></div>
						<div class="details">Total # Active Volunteers</div>
					</div><!--.metric-box-->
					<button class="btn-outline">Breakdown by Language</button>
				</div><!--.metric-->

				<div class="metric">
					<div class="metric-box">
						<div class="number"><%= @metrics[:new_volunteer_count] %></div>
						<div class="details">Total # of New Volunteers</div>
						
					</div><!--.metric-box-->
					<button class="btn-outline">Breakdown by Language</button>
				</div><!--.metric-->
				<div class="metric">
					<div class="metric-box">
						<div class="number"><%= @metrics[:average_duration] %></div>
						<div class="details">Avg Total Time Spent with a Voter</div>
						
					</div><!--.metric-box-->
					<button class="btn-outline">Breakdown by Language</button>
				</div><!--.metric-->
				<div class="metric">
					<div class="metric-box">
						<div class="number"><%= @metrics[:min_duration] %></div>
						<div class="details">Min. Total Time Spent with a Voter</div>
					</div><!--.metric-box-->
					<button class="btn-outline">Breakdown by Language</button>
				</div><!--.metric-->

				<div class="metric">
					<div class="metric-box">
						<div class="number"><%= @metrics[:max_duration] %></div>
						<div class="details">Max. Total Time Spent with a Voter</div>
					</div><!--.metric-box-->
					<button class="btn-outline">Breakdown by Language</button>
				</div><!--.metric-->
				<div class="clear-fix"></div><!--.clear-fix-->
			</div>

		</section><!--.volunteer-metrics-->

		<section class="voters-metrics">
			<header>
				<h3>Voters</h3>
			</header>

			<div class="wrapper">

				<div class="metric">
					<div class="metric-box">
						<div class="number"><%= @metrics[:voter_count] %></div>
						<div class="details">Total # of Voters</div>
						
					</div><!--.metric-box-->
					<button class="btn-outline">Breakdown by Language</button>
				</div><!--.metric-->
				<div class="metric">
					<div class="metric-box">
						<div class="number"><%= @metrics[:active_match_count] %></div>
						<div class="details">Total # Active Matches</div>
						
					</div><!--.metric-box-->
				</div><!--.metric-->

				<div class="metric">
					<div class="metric-box">
						<div class="number"><%= @metrics[:new_voter_count] %></div>
						<div class="details">Total # New Voters</div>
						
					</div><!--.metric-box-->
					<button class="btn-outline">Breakdown by Language</button>
				</div><!--.metric-->
				<div class="metric">
					<div class="metric-box">
						<div class="number"><%= @metrics[:completed_match_count] %></div>
						<div class="details">Total # of Completed Matches</div>
						
					</div><!--.metric-box-->
					<button class="btn-outline">Breakdown by Language</button>
				</div><!--.metric-->

				<div class="metric">
					<div class="metric-box">
						<div class="number"><%= @metrics[:unmatched_voter_count] %></div>
						<div class="details">Total # of Voters Without Matches</div>
						
					</div><!--.metric-box-->
					<button class="btn-outline">Breakdown by Language</button>
				</div><!--.metric-->

				<div class="clear-fix"></div><!--.clear-fix-->
			</div><!--.wrapper-->

		</section><!--.voters-metrics-->

		<section class="download">
			<div class="download-report">
				<span>Download this data report</span>
				<button>Download</button>
			</div><!--.download-report-->
			<div class="clear-fix"></div>

		</section>

	</div><!--.wrapper-->
</main>

<div id="light" class="hide white_content breakdown-language">
	<div class="close-icon"></div>
	<header>
		<!--TODO: JS to populate title and use JS object to populate rest of lightbox data-->
		<h1>Total # of Volunteers</h1>
	</header>
	<div class="metric-box">
		<div class="number">105</div>
		<div class="language">Mandarin</div>
		
	</div><!--.metric-box-->
	<div class="metric-box">
		<div class="number">78</div>
		<div class="language">Cantonese</div>
		
	</div><!--.metric-box-->
	<div class="metric-box">
		<div class="number">64</div>
		<div class="language">Mandarin</div>
		
	</div><!--.metric-box-->
	<div class="metric-box">
		<div class="number">93</div>
		<div class="language">Japanese</div>
		
	</div><!--.metric-box-->
	<div class="metric-box">
		<div class="number">91</div>
		<div class="language">Tagalog</div>
		
	</div><!--.metric-box-->
	<div class="metric-box">
		<div class="number">104</div>
		<div class="language">Hmong</div>
		
	</div><!--.metric-box-->
	<div class="metric-box">
		<div class="number">102</div>
		<div class="language">Lao</div>
		
	</div><!--.metric-box-->

	<div class="metric-box">
		<div class="number">84</div>
		<div class="language">Vietnamese</div>
		
	</div><!--.metric-box-->

	<div class="metric-box">
		<div class="number">57</div>
		<div class="language">Punjabi</div>
		
	</div><!--.metric-box-->
	<div class="metric-box">
		<div class="number">68</div>
		<div class="language">Hindi</div>
		
	</div><!--.metric-box-->
	<div class="clear-fix"></div>
	<section class="download">
		<div class="download-report">
			<span>Download this data report</span>
			<button>Contact</button>
			<div class="clear-fix"></div>
		</div><!--.download-report-->

	</section>

</div><!--.white_content.breakdown-language-->

<div id="fade" class="hide green-overlay"></div><!--.green_overlay-->

